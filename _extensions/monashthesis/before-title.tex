%% FONT
\usepackage{mathptmx}  % Times-like font for text and math, compatible with pdflatex.

%% CAPTIONS
\usepackage{caption}
\DeclareCaptionStyle{italic}[justification=centering]
 {labelfont={bf},textfont={it},labelsep=colon}
\captionsetup[figure]{style=italic,format=hang,singlelinecheck=true}
\captionsetup[table]{style=italic,format=hang,singlelinecheck=true}

%% SPACING
\usepackage{setspace}
\setstretch{1.5}  % Set line spacing to 1.5

%% SECTION TITLES
\usepackage{titlesec}
\titleformat*{\section}{\fontsize{16}{18}\bfseries}  % Heading 1: Font size 16, bold
\titleformat*{\subsection}{\fontsize{14}{16}\bfseries}  % Heading 2: Font size 14, bold
\titleformat*{\subsubsection}{\fontsize{12}{14}\bfseries}  % Heading 3: Font size 12, bold
\titlespacing{\section}{0pt}{*5}{*1}
\titlespacing{\subsection}{0pt}{*2}{*0.2}
\titlespacing{\subsubsection}{0pt}{*1}{*0.1}

%% BODY TEXT SETTINGS
\renewcommand{\normalsize}{\fontsize{12}{14}\selectfont}  % Set normal text font size to 12 pt
\setlength{\parskip}{1em}  % Space between paragraphs

%% ALIGNMENT
\usepackage{ragged2e}  % for custom alignment
\justifying  % Set all text alignment to justify by default

%% HEADERS AND FOOTERS
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\lhead{\textsf{\@title}}  % Left header: Document title
\rfoot{\thepage}  % Right footer: Page number
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

%% TABLES
\usepackage{booktabs, tabularx}
\usepackage{graphicx}
\usepackage{tabu}

% Custom table environment
\newenvironment{resizetable}
  {\begin{table}\resizebox{\textwidth}{!}{\begin{tabular}}
  {\end{tabular}}\end{table}}

% Custom tabular environment using tabularx
\newenvironment{xtable}
  {\begin{table}\centering\begin{tabularx}{\textwidth}{lXX}}
  {\end{tabularx}\end{table}}

%% MATHS
\usepackage{amsmath, bm}
\allowdisplaybreaks

%% GRAPHICS SETTINGS
\graphicspath{{figures/}}
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{4}
\renewcommand{\topfraction}{0.85}
\renewcommand{\bottomfraction}{0.85}
\renewcommand{\textfraction}{0.15}
\renewcommand{\floatpagefraction}{0.8}

%% HYPERLINK SETTINGS
\usepackage{hyperref}
\hypersetup{
     pdfcreator={Quarto -> pandoc -> LaTeX -> pdf}
}

%% PAGE BREAKING to avoid widows and orphans
\clubpenalty = 2000
\widowpenalty = 2000
\usepackage{microtype}

% Custom command for centered title page
\newcommand{\insertchaptertitlepage}[1]{
  \clearpage
  \begin{titlepage}
    \centering
    \vspace*{\fill}
    {\Huge\bfseries #1\par}
    \vspace*{\fill}
  \end{titlepage}
}
